; PlatformIO Project Configuration File
;
;   Build options: build flags, source filter
;   Upload options: custom upload port, speed and extra flags
;   Library options: dependencies, extra library storages
;   Advanced options: extra scripting
;
; Please visit documentation for the other options and examples
; https://docs.platformio.org/page/projectconf.html

[env:uno]
platform = atmelavr
board = uno
framework = arduino

; Library dependencies
lib_deps =
    adafruit/Adafruit Motor Shield library @ ^1.0.1
    symlink://sub/AlfredoCRSF

; Build flags for memory optimization and tracking
build_flags =
    -Wall                           ; Enable all warnings
    -Wextra                         ; Extra warnings
    -Wl,--print-memory-usage        ; Print memory usage after linking
    -Os                             ; Optimize for size
    -ffunction-sections             ; Place each function in its own section
    -fdata-sections                 ; Place each data item in its own section
    -Wl,--gc-sections               ; Enable garbage collection of unused sections

; Upload settings
; Note: Manual board reset may be required due to firmware serial interference
; Uncomment upload_port below if auto-detection fails
upload_speed = 115200 

; Monitor settings
monitor_speed = 115200
